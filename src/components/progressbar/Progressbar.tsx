import styles from "./progressbar.module.css";

const Circle = ({ name, active, done, noBar, children }: { name: string, active: boolean, done: boolean, noBar?: boolean, children: React.ReactNode }) => {
    return (
        <div className={styles.circleContainer}>
            {
                active ? (
                    <div className={styles.outterCircleContainer}>
                        <div className={styles.activeInnerCircleContainer}>
                            {children}
                        </div>
                    </div>
                ) : (
                    <div className={`${styles.innerCircleContainer} ${done && styles.doneInnerCircleContainer}`}>
                        {
                            done ? (
                                <svg className={styles.icon} width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M27 9.00061L13 23L6 16.0006" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            ) : children
                        }
                    </div>
                )
            }

            <h5 className={styles.circleText}>{name}</h5>

            {
                !noBar && <div className={`${styles.divider} ${done || active && styles.activeDivider}`}></div>
            }
        </div>
    )
};

const Progressbar = ({ step }: { step: number }) => {
  return (
    <div className={styles.progressbarContainer}>
        <Circle
            name="InformaciÃ³n"
            active={step === 0}
            done={step > 0}
            noBar={true}
        >
            <svg className={styles.icon} width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M31.7173 13.0975C31.7169 13.0813 31.716 13.065 31.7149 13.0487C31.7131 13.0236 31.7106 12.9989 31.7072 12.9742C31.7052 12.9601 31.7032 12.9461 31.7007 12.932C31.6956 12.9031 31.689 12.8748 31.6816 12.8467C31.6797 12.8393 31.6788 12.8319 31.6767 12.8245L29.7159 5.96148C29.5839 5.50521 29.3076 5.104 28.9284 4.81799C28.5492 4.53197 28.0875 4.37654 27.6125 4.375H7.38749C6.9125 4.37654 6.4508 4.53198 6.07159 4.81801C5.69238 5.10404 5.41608 5.50527 5.2841 5.96155L3.32331 12.8245C3.3212 12.8319 3.3203 12.8393 3.31837 12.8467C3.31096 12.8748 3.30445 12.9031 3.29927 12.932C3.29677 12.9461 3.2948 12.9601 3.29283 12.9742C3.28943 12.9989 3.28686 13.0236 3.28512 13.0487C3.28395 13.065 3.28305 13.0813 3.28265 13.0975C3.28242 13.1068 3.28125 13.1157 3.28125 13.125V15.3125C3.28132 16.1611 3.47904 16.9979 3.85873 17.7568C4.23843 18.5157 4.78966 19.1757 5.46875 19.6845V28.4375C5.46941 29.0175 5.70009 29.5735 6.11019 29.9836C6.52028 30.3937 7.07629 30.6243 7.65625 30.625H27.3438C27.9237 30.6243 28.4797 30.3937 28.8898 29.9836C29.2999 29.5735 29.5306 29.0175 29.5312 28.4375V19.6845C30.2103 19.1757 30.7616 18.5157 31.1413 17.7568C31.521 16.9979 31.7187 16.1611 31.7188 15.3125V13.125C31.7188 13.1157 31.7176 13.1068 31.7173 13.0975ZM5.46875 14.2188H12.0312V15.3125C12.0316 15.877 11.8862 16.4321 11.6092 16.9239C11.3322 17.4158 10.9328 17.8278 10.4499 18.12C9.96691 18.4123 9.41668 18.575 8.85243 18.5922C8.28818 18.6095 7.72903 18.4808 7.2291 18.2186C7.1532 18.1597 7.06986 18.1111 6.98123 18.074C6.51779 17.7774 6.13637 17.3691 5.87207 16.8865C5.60777 16.404 5.46908 15.8627 5.46875 15.3125V14.2188ZM20.7812 15.3125C20.7812 16.1827 20.4355 17.0173 19.8202 17.6327C19.2048 18.248 18.3702 18.5938 17.5 18.5938C16.6298 18.5938 15.7952 18.248 15.1798 17.6327C14.5645 17.0173 14.2188 16.1827 14.2188 15.3125V14.2188H20.7812V15.3125ZM28.0181 18.0744C27.93 18.1114 27.8472 18.1597 27.7717 18.2182C27.2718 18.4805 26.7126 18.6094 26.1483 18.5922C25.5839 18.5751 25.0336 18.4125 24.5505 18.1203C24.0675 17.828 23.668 17.416 23.3909 16.9241C23.1138 16.4322 22.9684 15.8771 22.9688 15.3125V14.2188H29.5312V15.3125C29.5309 15.8628 29.3922 16.4043 29.1277 16.8869C28.8633 17.3696 28.4817 17.7779 28.0181 18.0744Z" fill="white"/>
            </svg>
        </Circle>
        <Circle
            name="Subir Videos"
            active={step === 1}
            done={step > 1}
        >
            <svg className={styles.icon} width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.8751 5.46875C19.6407 5.47059 17.4508 6.09393 15.5503 7.26906C13.6498 8.4442 12.1137 10.1248 11.1136 12.123L11.1129 12.1229C10.2754 13.7915 9.84024 15.633 9.84228 17.5C9.84228 17.7901 9.72704 18.0683 9.52193 18.2734C9.31681 18.4785 9.03861 18.5938 8.74853 18.5938C8.45845 18.5938 8.18025 18.4785 7.97513 18.2734C7.77001 18.0683 7.65478 17.7901 7.65478 17.5C7.65306 15.6498 8.01445 13.8172 8.71845 12.1061C6.51396 12.3917 4.50086 13.5058 3.08809 15.2221C1.67531 16.9383 0.968803 19.128 1.11208 21.3463C1.25535 23.5646 2.23766 25.6452 3.85947 27.1654C5.48128 28.6857 7.62096 29.5315 9.84388 29.5312H21.8751C25.066 29.5312 28.1262 28.2637 30.3825 26.0074C32.6388 23.7511 33.9064 20.6909 33.9064 17.5C33.9064 14.3091 32.6388 11.2489 30.3825 8.99262C28.1262 6.73632 25.066 5.46875 21.8751 5.46875ZM26.1942 20.7262C26.0926 20.8278 25.9721 20.9084 25.8394 20.9633C25.7067 21.0183 25.5644 21.0466 25.4208 21.0466C25.2772 21.0466 25.135 21.0183 25.0023 20.9633C24.8696 20.9084 24.749 20.8278 24.6474 20.7262L21.8742 17.953V26.25C21.8742 26.5401 21.759 26.8183 21.5538 27.0234C21.3487 27.2285 21.0705 27.3438 20.7804 27.3438C20.4904 27.3438 20.2122 27.2285 20.007 27.0234C19.8019 26.8183 19.6867 26.5401 19.6867 26.25V17.953L16.9135 20.7262C16.8119 20.8279 16.6914 20.9086 16.5586 20.9636C16.4259 21.0187 16.2836 21.047 16.1399 21.0471C15.9963 21.0471 15.854 21.0188 15.7212 20.9639C15.5885 20.9089 15.4678 20.8283 15.3662 20.7267C15.2646 20.6251 15.184 20.5045 15.1291 20.3717C15.0741 20.239 15.0458 20.0967 15.0459 19.953C15.0459 19.8093 15.0743 19.667 15.1293 19.5343C15.1844 19.4016 15.265 19.281 15.3667 19.1795L20.0065 14.5397C20.0323 14.5139 20.0593 14.4895 20.0875 14.4665C20.0989 14.457 20.111 14.4489 20.1227 14.4401C20.1395 14.4274 20.156 14.4145 20.1735 14.4027C20.1881 14.3929 20.2034 14.3845 20.2184 14.3755C20.2339 14.3661 20.2492 14.3564 20.2652 14.3478C20.2808 14.3395 20.2967 14.3325 20.3125 14.325C20.329 14.3172 20.3453 14.3089 20.3623 14.3019C20.3775 14.2956 20.3931 14.2905 20.4086 14.285C20.4268 14.2784 20.4447 14.2715 20.4633 14.2658C20.4788 14.2612 20.4944 14.2578 20.51 14.2538C20.5289 14.249 20.5477 14.2437 20.5671 14.2399C20.5848 14.2364 20.6027 14.2344 20.6206 14.2317C20.638 14.2292 20.6552 14.2259 20.6729 14.2242C20.7046 14.2211 20.7365 14.2197 20.7683 14.2193C20.7724 14.2193 20.7763 14.2187 20.7804 14.2187C20.7845 14.2187 20.7885 14.2193 20.7926 14.2193C20.8244 14.2197 20.8563 14.2211 20.888 14.2242C20.9057 14.2259 20.9228 14.2292 20.9403 14.2317C20.9581 14.2344 20.9761 14.2364 20.9938 14.2399C21.0132 14.2437 21.0319 14.249 21.0509 14.2538C21.0665 14.2578 21.0821 14.2612 21.0975 14.2658C21.1161 14.2715 21.1341 14.2784 21.1522 14.285C21.1677 14.2905 21.1834 14.2956 21.1986 14.3019C21.2156 14.3089 21.2319 14.3172 21.2484 14.325C21.2642 14.3325 21.2801 14.3395 21.2956 14.3478C21.3117 14.3564 21.3269 14.3661 21.3425 14.3755C21.3575 14.3845 21.3727 14.3929 21.3874 14.4027C21.4049 14.4144 21.4214 14.4274 21.4381 14.4401C21.4499 14.4489 21.462 14.457 21.4734 14.4665C21.5016 14.4895 21.5286 14.5139 21.5543 14.5397L26.1942 19.1795C26.2957 19.281 26.3763 19.4016 26.4313 19.5343C26.4863 19.667 26.5146 19.8092 26.5146 19.9529C26.5146 20.0965 26.4863 20.2387 26.4313 20.3714C26.3763 20.5041 26.2958 20.6247 26.1942 20.7262Z" fill="white"/>
            </svg>
        </Circle>
        <Circle
            name="Definir Layout"
            active={step === 2}
            done={step > 2}
        >
            <svg className={styles.icon} width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M32.8129 26.2501H8.75037V2.1875C8.75037 1.89742 8.63513 1.61922 8.43001 1.4141C8.2249 1.20898 7.9467 1.09375 7.65662 1.09375C7.36654 1.09375 7.08834 1.20898 6.88322 1.4141C6.6781 1.61922 6.56287 1.89742 6.56287 2.1875V6.5625H2.18787C1.89779 6.5625 1.61959 6.67773 1.41447 6.88285C1.20935 7.08797 1.09412 7.36617 1.09412 7.65625C1.09412 7.94633 1.20935 8.22453 1.41447 8.42965C1.61959 8.63477 1.89779 8.75 2.18787 8.75H6.56287V27.3439C6.56288 27.634 6.67812 27.9122 6.88323 28.1173C7.08835 28.3224 7.36654 28.4376 7.65662 28.4376H26.2504V32.8126C26.2504 33.1027 26.3656 33.3809 26.5707 33.586C26.7758 33.7912 27.054 33.9064 27.3441 33.9064C27.6342 33.9064 27.9124 33.7912 28.1175 33.586C28.3226 33.3809 28.4379 33.1027 28.4379 32.8126V28.4376H32.8129C33.1029 28.4376 33.3811 28.3224 33.5863 28.1173C33.7914 27.9122 33.9066 27.634 33.9066 27.3439C33.9066 27.0538 33.7914 26.7756 33.5863 26.5705C33.3811 26.3654 33.1029 26.2501 32.8129 26.2501Z" fill="white"/>
                <path d="M12.0304 8.75H26.2503V22.9689C26.2503 23.259 26.3656 23.5372 26.5707 23.7423C26.7758 23.9474 27.054 24.0626 27.3441 24.0626C27.6342 24.0626 27.9124 23.9474 28.1175 23.7423C28.3226 23.5372 28.4378 23.259 28.4378 22.9689V7.65625C28.4378 7.36617 28.3226 7.08797 28.1175 6.88286C27.9124 6.67774 27.6342 6.5625 27.3441 6.5625H12.0304C11.7403 6.5625 11.4621 6.67773 11.257 6.88285C11.0519 7.08797 10.9366 7.36617 10.9366 7.65625C10.9366 7.94633 11.0519 8.22453 11.257 8.42965C11.4621 8.63477 11.7403 8.75 12.0304 8.75Z" fill="white"/>
            </svg>
        </Circle>
        <Circle
            name="Generar Heatmaps"
            active={step === 3}
            done={step > 3}
        >
            <svg className={styles.icon} width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.9688 19.5883V6.5625C22.9688 5.1121 22.3926 3.7211 21.367 2.69551C20.3414 1.66992 18.9504 1.09375 17.5 1.09375C16.0496 1.09375 14.6586 1.66992 13.633 2.69551C12.6074 3.7211 12.0313 5.1121 12.0313 6.5625V19.5883C10.793 20.6959 9.92015 22.1533 9.52831 23.7678C9.13647 25.3822 9.24407 27.0776 9.83687 28.6296C10.4297 30.1816 11.4797 31.517 12.8481 32.4591C14.2165 33.4012 15.8387 33.9057 17.5 33.9057C19.1613 33.9057 20.7835 33.4012 22.1519 32.4591C23.5203 31.517 24.5703 30.1816 25.1631 28.6296C25.7559 27.0776 25.8635 25.3822 25.4717 23.7678C25.0799 22.1533 24.207 20.6959 22.9688 19.5883ZM17.5 3.28125C18.3699 3.28223 19.204 3.62825 19.8191 4.24339C20.4343 4.85853 20.7803 5.69256 20.7813 6.5625V10.9375H14.2188V6.5625C14.2197 5.69256 14.5658 4.85853 15.1809 4.24339C15.796 3.62825 16.6301 3.28223 17.5 3.28125Z" fill="white"/>
            </svg>
        </Circle>
        <Circle
            name="Generar Reporte"
            active={step === 4}
            done={step > 4}
        >
            <svg className={styles.icon} width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M31.3984 7.9766L27.0234 3.6016C26.9219 3.50003 26.8013 3.41946 26.6686 3.36448C26.5359 3.30951 26.3936 3.28122 26.25 3.28122C26.1064 3.28122 25.9641 3.30951 25.8314 3.36448C25.6987 3.41946 25.5781 3.50003 25.4766 3.6016L12.3516 16.7266C12.1465 16.9317 12.0312 17.2099 12.0313 17.5V21.875C12.0313 22.1651 12.1465 22.4433 12.3516 22.6484C12.5567 22.8535 12.8349 22.9687 13.125 22.9687H17.5C17.7901 22.9687 18.0683 22.8535 18.2734 22.6484L31.3984 9.52337C31.6036 9.31825 31.7188 9.04006 31.7188 8.74999C31.7188 8.45991 31.6036 8.18172 31.3984 7.9766ZM27.3438 10.4844L24.5156 7.65624L26.25 5.92178L29.0782 8.74999L27.3438 10.4844Z" fill="white"/>
                <path d="M29.7515 14.2639L19.8205 24.1948C19.5165 24.5005 19.1549 24.7428 18.7566 24.9078C18.3584 25.0728 17.9313 25.1571 17.5002 25.156H13.1252C12.2553 25.155 11.4213 24.809 10.8061 24.1938C10.191 23.5787 9.84496 22.7447 9.84399 21.8747V17.4997C9.84281 17.0687 9.92714 16.6417 10.0921 16.2434C10.2571 15.8452 10.4994 15.4836 10.805 15.1796L20.7388 5.24591C20.6912 5.00203 20.5608 4.78209 20.3696 4.62333C20.1785 4.46457 19.9383 4.37674 19.6899 4.37473H6.56274C5.98276 4.3753 5.42669 4.60595 5.01658 5.01606C4.60647 5.42617 4.37582 5.98224 4.37524 6.56223V28.4372C4.37582 29.0172 4.60647 29.5733 5.01658 29.9834C5.42669 30.3935 5.98276 30.6242 6.56274 30.6247H28.4377C29.0177 30.6242 29.5738 30.3935 29.9839 29.9834C30.394 29.5733 30.6247 29.0172 30.6252 28.4372V15.3133C30.6233 15.0644 30.5351 14.8238 30.3759 14.6325C30.2166 14.4412 29.996 14.3109 29.7515 14.2639Z" fill="white"/>
            </svg>
        </Circle>
    </div>
  )
}

export default Progressbar
